<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.cell.PropertyValueFactory?>


<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.MainController"
            prefWidth="1200" prefHeight="700">

    <top>
        <ToolBar>
            <Button text="Ð”Ð¾Ð´Ð°Ñ‚Ð¸" onAction="#onAddClicked"/>
            <Button text="Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸" onAction="#onDeleteClicked"/>
            <Button text="Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸" onAction="#onEditClicked"/>
            <Button text="Ð“Ñ€Ð°Ñ„Ñ–Ðº" onAction="#openProgress"/>
            <Separator orientation="VERTICAL"/>
            <Button text="Ð•ÐºÑÐ¿Ð¾Ñ€Ñ‚ CSV" onAction="#onExportClicked" styleClass="secondary"/> <Separator orientation="VERTICAL"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="Ð¢ÐµÐ¼Ð°:"/>
            <ChoiceBox fx:id="themeChoice" prefWidth="100"/>
        </ToolBar>
    </top>

    <center>
        <HBox spacing="10">
            <padding>
                <Insets top="12" right="12" bottom="12" left="12"/>
            </padding>

            <VBox spacing="10" HBox.hgrow="ALWAYS">

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <TextField fx:id="searchField" promptText="ÐŸÐ¾ÑˆÑƒÐº Ð·Ð° Ñ‚Ð¸Ð¿Ð¾Ð¼ Ð°Ð±Ð¾ Ð½Ð¾Ñ‚Ð°Ñ‚ÐºÐ¾ÑŽ" HBox.hgrow="ALWAYS"/>
                    <Button text="ÐŸÐ¾ÑˆÑƒÐº" onAction="#doSearch"/>
                    <Label text="Ð¤Ñ–Ð»ÑŒÑ‚Ñ€ Ð·Ð° Ð´Ð°Ñ‚Ð¾ÑŽ:"/>
                    <DatePicker fx:id="filterDatePicker"/>
                    <Button text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ð¸" onAction="#loadAll"/>
                </HBox>

                <HBox fx:id="dashboardBox" spacing="15" alignment="CENTER_LEFT"/>

                <TableView fx:id="tableView" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colDate" text="Ð”Ð°Ñ‚Ð°" prefWidth="120"/>
                        <TableColumn fx:id="colType" text="Ð¢Ð¸Ð¿" prefWidth="150"/>
                        <TableColumn fx:id="colDuration" text="Ð¢Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ (Ñ…Ð²)" prefWidth="120"/>
                        <TableColumn fx:id="colMoodEmoji" text="ÐÐ°ÑÑ‚Ñ€Ñ–Ð¹" prefWidth="80"/>
                        <TableColumn fx:id="colNote" text="ÐšÐ¾Ð¼ÐµÐ½Ñ‚Ð°Ñ€" minWidth="380"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>

            <VBox minWidth="350" maxWidth="350" spacing="10" VBox.vgrow="ALWAYS">
                <Label text="Ð Ð¾Ð·Ð¿Ð¾Ð´Ñ–Ð» Ñ‚Ñ€ÐµÐ½ÑƒÐ²Ð°Ð½ÑŒ" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>

                <PieChart fx:id="activityPieChart" title="Ð—Ð°Ð³Ð°Ð»ÑŒÐ½Ð° Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ" minHeight="200" maxHeight="200"/>

                <Label text="ðŸ† Ð’Ð°ÑˆÑ– Ñ€ÐµÐºÐ¾Ñ€Ð´Ð¸" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #755A57;"/>
                <VBox fx:id="recordsBox" spacing="5" VBox.vgrow="ALWAYS"/>
            </VBox>
        </HBox>
    </center>
</BorderPane>